{"version":3,"sources":["components/Header.js","utils/utils.js","utils/Api.js","components/Card.js","contexts/CurrentUserContext.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/EditVerificationPopup.js","components/ImagePopup.js","components/Footer.js","components/App.js","serviceWorker.js","index.js","images/mesto-logo.svg"],"names":["Header","props","className","src","logo","alt","formConfig","api","baseUrl","this","_baseUrl","url","params","headers","authorization","fetch","then","res","ok","json","Promise","reject","status","_fetch","method","data","body","JSON","stringify","name","about","link","isState","avatar","Card","React","useState","error","setError","isOwn","card","owner","_id","currentUser","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","cardLikeButtonHidden","errorImageName","errorCountLike","onClick","e","onCardClick","onError","target","setAttribute","type","onCardLike","length","onTrashClick","parentElement","CurrentUserContext","createContext","Main","useContext","onEditAvatar","onEditProfile","onAddPlace","cards","map","key","PopupWithForm","isOpen","overlayClick","action","onSubmit","noValidate","title","children","isButtonDisable","undefined","disabled","buttonText","aria-label","onClose","EditProfilePopup","setName","description","setDescription","formErrors","author","job","authorValid","jobValid","formValid","valid","setValid","validateField","input","inputName","inputValidationErrors","validity","validationMessage","useEffect","handleButtonText","isText","overlay","preventDefault","onChangeText","onUpdateUser","id","placeholder","defaultValue","minLength","maxLength","pattern","required","onChange","value","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","inputLink","nameValid","linkValid","handleInput","EditVerificationPopup","onCardDelete","cardId","ImagePopup","Footer","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","state","elem","isEditVerificationPopupOpen","setIsEditVerificationPopupOpen","selectedCard","setSelectedCard","showImage","setShowImage","text","setText","setCurrentUser","setCards","changeText","closeAllPopups","classList","contains","getUserInterface","catch","err","console","log","getInitialCards","array","onKeyDown","Provider","changeLikeCardStatus","newCard","newCards","c","sendUserInfo","newData","finally","sendPlaceCard","reset","changeAvatar","deleteCard","remove","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message","module","exports"],"mappings":"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","file":"static/js/main.addff304.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Header(props) {\n\n  return (\n    <>\n      <header className=\"header\">\n          <img className=\"header__logo\" src={props.logo} alt=\"Логотип-Место\" />\n      </header>\n    </>\n  )\n}\n\nexport default Header\n","import React from 'react';\n\n// const content = document.querySelector('.content');\nexport const baseUrl = 'https://mesto.nomoreparties.co/v1/cohort-12'; //базовый URL\n\n// export const editButton = content.querySelector('.profile__button-edit'); //кнопка редактирования\n\n// export const popupEditForm = content.querySelector('.popup__edit-form'); //попап-редактировать профиль\n// export const popupAddPlace = content.querySelector('.popup__add-place'); //попап-добавить новое место\n// export const popupShowImage = content.querySelector('.popup__show-image'); //попап-открыть картинку\n// export const popupVerification = content.querySelector('.popup__verification'); //попап подтвердить удаление\n// export const popupAvatar = content.querySelector('.popup__avatar'); //попап подтвердить удаление\n\n// export const addButton = content.querySelector('.profile__button-add'); //кнопка добавть новое место\n// export const avatar = content.querySelector('.profile__information');\n\n// export const elements = '.elements'; //секция с карточками\n\n// export const nameInput = document.forms.form.author; //content.querySelector('.popup-container__infoform_author'); //форма с именем автора\n// export const jobInput = document.forms.form.job; //content.querySelector('.popup-container__infoform_aboutyourself'); //форма с деятельностью автора\n\nexport const formConfig = {\n  inputSelector: '.popup-container__infoform', //поле формы\n  submitButtonSelector: '.popup-container__button-add', //кнопка добавить/сохранить/создать\n  inactiveButtonClass: 'popup-container__button-add_error', //стиль неактивной кнопки\n  inputErrorClass: 'popup-container__infoform_type_error', //стиль красного подчеркивания поля\n  errorClass: 'popup-container__input-error_active' //появление ошибки валидации\n};\n\n// export const formAuthor = document.querySelector('.popup-container__author');\n// export const formPlace = document.querySelector('.popup-container__place');\n// export const formAvatar = document.querySelector('.popup-container__avatar');\n","import React from 'react';\nimport { baseUrl } from './utils';\n//на данный момент бОльшая часть запросов не функционирует, \"работают\" только  GET-запросы\nclass Api {\n  constructor({ baseUrl }) {\n    this._baseUrl = baseUrl;\n  }\n  //приватный фетч запрос\n  _fetch(url, params) {\n    params.headers = {\n      authorization: 'f137b98e-3f11-4f62-a4b2-d83c32e82337',\n      'Content-Type': 'application/json'\n    };\n    return fetch(this._baseUrl + url, params)\n      .then((res) => {\n        if (!res.ok) {\n          return Promise.reject(res.status);\n        } else {\n          return res.json();\n        }\n      })\n  }\n  //получаем карточки с сервера\n  getInitialCards(url) {\n    return this._fetch(url, {\n      method: 'GET'\n    })\n  }\n  //получает имя и деятельность автора с сервера\n  getUserInterface(url) {\n    return this._fetch(url, {\n      method: 'GET'\n    })\n  }\n  //отправить инфооацию об аторе на сервер и обновить ее\n  sendUserInfo(url, data) {\n    return this._fetch(url, {\n      method: 'PATCH',\n      body: JSON.stringify({\n        name: `${data.name}`,\n        about: `${data.about}`\n      })\n    })\n  }\n  //отправить карточку на сервер\n  sendPlaceCard(url, data) {\n    return this._fetch(url, {\n      method: 'POST',\n      body: JSON.stringify({\n        name: `${data.name}`,\n        link: `${data.link}`\n      })\n    })\n  }\n\n  changeLikeCardStatus(url, isState) {\n    if (!isState) {\n      return this._fetch(url, {\n        method: 'PUT'\n      })\n    } else {\n      return this._fetch(url, {\n        method: 'DELETE'\n      })\n    }\n  }\n\n  //удалить карточку с сервера\n  deleteCard(url) {\n    return this._fetch(url, {\n      method: 'DELETE'\n    })\n  }\n\n  //поменять аватар\n  changeAvatar(url, data) {\n    return this._fetch(url, {\n      method: 'PATCH',\n      body: JSON.stringify({\n        avatar: `${data.avatar}`\n      })\n    })\n  }\n}\n\nexport const api = new Api({ baseUrl });\n","import React from 'react';\n\nfunction Card(props) {\n\n  const [error, setError] = React.useState(false); //стейт для проверки правильности ссылки\n\n  function errorLoadImage(e) {\n    e.target.setAttribute('src', 'https://image.freepik.com/free-vector/404_115790-50.jpg'); //усди ссылка неверна, загрузит стандартную картинку\n    setError(true); //поменяет стейт\n  }\n\n  function handleDeleteClick(e) {\n    props.onTrashClick(props.card, e.target.parentElement);\n  }\n\n  function handleClick(e) {\n    !error && props.onCardClick(props.card); //если нет ошибки в картинке, то можно по ней кликать\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  const isOwn = props.card.owner._id === props.currentUser._id; // Определяем, являемся ли мы владельцем текущей карточки\n  const cardDeleteButtonClassName = ( // Создаём переменную, которую после зададим в `className` для кнопки удаления\n    `element__trash ${isOwn ? '' : 'element__trash_hidden'}`\n  );\n\n\n  const isLiked = props.card.likes.some(item => item._id === props.currentUser._id); // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const cardLikeButtonClassName = (// Создаём переменную, которую после зададим в `className` для кнопки лайка\n    `element__button ${isLiked ? 'element__button_like-active' : ''}`\n  );\n\n  const cardLikeButtonHidden = ( //если есть ошибка то скрываем кнопку сердечко\n    `${error && 'element__button_hidden'}`\n  );\n\n  const errorImageName = ( //если нет ошибки, то показываем текст, иначе пишем свой\n    `${!error ? `${props.card.name}` : 'Упс, ошибка...'}`\n  );\n\n  const errorCountLike = ( //если есть ошибка, то скрываем кол-во лайков\n    `element__count ${error && 'element__count_hidden'}`\n  );\n\n  return (\n    <>\n      <div className=\"element\">\n        <img className=\"element__image\" alt=\"Изображение\" src={props.card.link} onClick={handleClick} onError={errorLoadImage} /> {/*при клике вызывает ф-цию по смене стейта и передает данные о карточке в App*/}\n        <div className=\"element__places\">\n          <h2 className=\"element__place\">{errorImageName}</h2>\n          <div className=\"element__likes\">\n            <button className={`${cardLikeButtonClassName} ${cardLikeButtonHidden}`} type=\"button\" onClick={handleLikeClick}></button>\n            <span className={errorCountLike}> {props.card.likes.length > 0 ? `${props.card.likes.length}` : 0} </span>\n          </div>\n        </div>\n        <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\n      </div>\n    </>\n  )\n}\n\nexport default Card;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext(); //новый объект контекста\n","import React from 'react';\nimport { api } from '../utils/Api';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext); //получаем объект о пользвателе из контекста\n\n  return (\n    <>\n      <main className=\"content\">\n        <section className=\"profile\">\n          <div className=\"profile__cover\">\n            <div className=\"profile__information\">\n              <figure className=\"profile__background\" onClick={props.onEditAvatar}></figure> {/*при клике на аву меняем стейт на true и передем в компонент App*/}\n              <img className=\"profile__avatar\" src={currentUser.avatar} alt={currentUser.name} />\n            </div>\n            <div className=\"profile__info\">\n              <div className=\"profile__reg\">\n                <h1 className=\"profile__author\">{currentUser.name}</h1>\n                <button className=\"profile__button-edit\" type=\"button\" onClick={props.onEditProfile}></button> {/*при клике на редактор инфы меняем стейт на true и передем в компонент App*/}\n              </div>\n              <p className=\"profile__specialty\">{currentUser.about}</p>\n            </div>\n          </div>\n          <button className=\"profile__button-add\" type=\"button\" onClick={props.onAddPlace}></button> {/*при клике на + меняем стейт на true и передем в компонент App*/}\n        </section>\n\n        <section className=\"elements\"> {/*передаем в Card информацию о каждой карточке, приcваиваем каждой карточке key и передаем ф-цию по смене флага при нажатии на картинку*/}\n          {props.cards.map((item) => {\n            return (\n              <Card card={item}\n                key={item._id}\n                onCardClick={props.onCardClick}\n                currentUser={currentUser}\n                onCardLike={props.onCardLike}\n                onTrashClick={props.onTrashClick} />\n            );\n          })}\n        </section>\n      </main>\n    </>\n  )\n}\n\nexport default Main\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  // console.log(props.isButtonDisable)\n\n  return (\n    <>\n      <section className={`popup popup__${props.name} ${props.isOpen && 'popup_opened'}`} onClick={props.overlayClick}>\n        <form className={`popup-container popup-container__${props.name}`} name=\"form\" method=\"POST\" action=\"#\" onSubmit={props.onSubmit} noValidate>\n          <h2 className=\"popup-container__text\">{props.title}</h2>\n          <fieldset className=\"popup-container__info\">\n            {props.children}\n            <button\n              className={`popup-container__button-add ${!props.isButtonDisable && props.isButtonDisable !== undefined ? 'popup-container__button-add_error' : ''}`}\n              type=\"submit\"\n              disabled={!props.isButtonDisable && props.isButtonDisable !== undefined}>\n              {props.buttonText}\n            </button>\n          </fieldset>\n          <button className=\"popup-container__button-reset\" type=\"reset\" aria-label=\"Close\" onClick={props.onClose}></button>\n        </form>\n      </section>\n    </>\n  )\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { formConfig } from '../utils/utils';\n\nfunction EditProfilePopup(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  //реализация управляемого компонента\n  const [name, setName] = React.useState(''); //стетй с именем\n  const [description, setDescription] = React.useState(''); //стейт с деятельностью\n  const [valid, setValid] = React.useState({ //стейт для валидации\n    formErrors: { author: '', job: '' }, //объект с текстом ошибок\n    authorValid: true, //валидность поля с автором\n    jobValid: true, //валидность с полем деятельности\n    formValid: true, //валидность всей формы\n  });\n\n  React.useEffect(() => { //меняем стейты в зависимости от контекста currentUser\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleChangeAuthor(e) { //меняем стейт при каждом изменении в поле инпута\n    setName(e.target.value);\n    validateField(e.target, e.target.name); //вызывем функцию по валидности (передаем инпут и его имя)\n  }\n\n  function handleChangeAbout(e) {\n    setDescription(e.target.value);\n    validateField(e.target, e.target.name);\n  }\n\n  function validateField(input, inputName) {\n    let inputValidationErrors = valid.formErrors; //все переменные берут первоначальные значения из стейта\n    let authorValid = valid.authorValid;\n    let jobValid = valid.jobValid;\n    let formValid = valid.formValid;\n\n    switch (inputName) {\n      case 'author':\n        authorValid = input.validity.valid;\n        inputValidationErrors.author = authorValid ? '' : input.validationMessage;\n        break;\n      case 'job':\n        jobValid = input.validity.valid;\n        inputValidationErrors.job = jobValid ? '' : input.validationMessage;\n        break;\n      default:\n        break;\n    }\n\n    formValid = authorValid && jobValid;\n\n    setValid({\n      formErrors: inputValidationErrors,\n      authorValid: authorValid,\n      jobValid: jobValid,\n      formValid: formValid,\n    })\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onChangeText();\n    props.onUpdateUser({\n      name: name,\n      about: description\n    });\n  }\n\n\n  function resetAll() {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n    setValid({\n      formErrors: { author: '', job: '' },\n      authorValid: true,\n      jobValid: true,\n      formValid: true,\n    })\n  }\n\n  function resetInput() { //сбрасываем введенные значания инпутов при клике на крестик\n    props.onClose();\n    resetAll()\n  }\n\n  const handleButtonText = (\n    `${props.isText ? 'Сохранение...' : 'Сохранить'}`\n  )\n\n  function overlayClick(e) {\n    props.overlay(e.target);\n  }\n\n  return (\n    <PopupWithForm\n      overlayClick={overlayClick}\n      onSubmit={handleSubmit}\n      title=\"Редактировать профиль\"\n      name=\"edit-form\"\n      buttonText={handleButtonText}\n      isButtonDisable={valid.formValid}\n      isOpen={props.isOpen}\n      onClose={resetInput}\n      children={\n        <>\n          <input className={`popup-container__infoform popup-container__infoform_author ${!valid.authorValid && formConfig.inputErrorClass}`}\n            id=\"author\"\n            name=\"author\"\n            type=\"text\"\n            placeholder=\"Автор\"\n            defaultValue={name}\n            minLength=\"2\" maxLength=\"40\"\n            pattern=\"[A-Za-zА-ЯЁа-яё -]{1,}\" required\n            onChange={handleChangeAuthor} />\n          <span className={`popup-container__input-error ${!valid.authorValid && formConfig.errorClass}`} id=\"author-input-error\">{valid.formErrors.author}</span>\n          <input className={`popup-container__infoform popup-container__infoform_author ${!valid.jobValid && formConfig.inputErrorClass}`}\n            id=\"job\"\n            name=\"job\"\n            type=\"text\"\n            defaultValue={description}\n            placeholder=\"О себе\"\n            minLength=\"2\" maxLength=\"200\" required\n            onChange={handleChangeAbout} />\n          <span className={`popup-container__input-error ${!valid.jobValid && formConfig.errorClass}`} id=\"job-input-error\">{valid.formErrors.job}</span>\n        </>\n      }\n    />\n  )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n\n  const inputRef = React.useRef();\n  //при добавлении валидации на эту форму делаю по аналогии с предыдущими формами. Но\n  //каким то образом инпуты с ссылками в форме изменения инфы об авторе и добавлении карточки\n  //становятся заблокированными, я не могу по ним кликнуть и печатать. Тоже вообще не пойму даже где\n  //искать баг...\n\n  // const [valid, setValid] = React.useState({ //стейт для валидации\n  //   formErrors: { avatar: '' }, //объект с текстом ошибок\n  //   avatarValid: false, //валидность поля с автором\n  //   formValid: false //валидность всей формы\n  // });\n\n  // function handleInput(e) {\n  //   e.target === inputRef.current && validateField(inputRef.current, inputRef.current.name);\n  // }\n\n  // function validateField(input, inputName) {\n  //   let inputValidationErrors = valid.formErrors; //все переменные берут первоначальные значения из стейта\n  //   let avatarValid = valid.avatarValid;\n  //   let formValid = valid.formValid;\n\n  //   switch (inputName) {\n  //     case 'avatar':\n  //       avatarValid = input.validity.valid;\n  //       inputValidationErrors.avatar = avatarValid ? '' : input.validationMessage;\n  //       break;\n  //     default:\n  //       break;\n  //   }\n\n  //   formValid = avatarValid;\n\n  //   setValid({\n  //     formErrors: inputValidationErrors,\n  //     avatarValid: avatarValid,\n  //     formValid: formValid\n  //   })\n  // }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onChangeText();\n    props.onUpdateAvatar(e.target, {\n      avatar: inputRef.current.value,\n    });\n  }\n\n  const handleButtonText = (\n    `${props.isText ? 'Сохранение...' : 'Сохранить'}`\n  );\n\n  function overlayClick(e) {\n    props.overlay(e.target);\n  }\n\n  function resetInput() { //сбрасываем введенные значания инпутов при клике на крестик\n    props.onClose();\n  }\n\n  return (\n    <PopupWithForm\n      overlayClick={overlayClick}\n      onSubmit={handleSubmit}\n      title=\"Обновить аватар\"\n      defaultValue=\"\"\n      name=\"avatar\"\n      buttonText={handleButtonText}\n      isOpen={props.isOpen}\n      onClose={resetInput}\n      children={\n        <>\n          <input className={`popup-container__infoform popup-container__infoform_avatar-link`}\n            id=\"avatar-input\"\n            ref={inputRef}\n            name=\"avatar\"\n            type=\"url\"\n            placeholder=\"Введите ссылку\"\n            required />\n          <span className={`popup-container__input-error`}></span>\n        </>\n      }\n    />\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { formConfig } from '../utils/utils';\n\nfunction AddPlacePopup(props) {\n\n  const inputName = React.useRef(); //инпут с названием карточки\n  const inputLink = React.useRef(); //иипут с ссылкой\n  const [valid, setValid] = React.useState({ //стейт для валидации\n    formErrors: { name: '', link: '' }, //объект с текстом ошибок\n    nameValid: false, //валидность поля с автором\n    linkValid: false, //валидность с полем деятельности\n    formValid: false //валидность всей формы\n  });\n\n  function handleInput(e) {\n    if (e.target === inputName.current) {\n      validateField(inputName.current, inputName.current.name)\n    } else {\n      validateField(inputLink.current, inputLink.current.name)\n    }\n  }\n\n  function validateField(input, inputName) {\n    let inputValidationErrors = valid.formErrors; //все переменные берут первоначальные значения из стейта\n    let nameValid = valid.nameValid;\n    let linkValid = valid.linkValid;\n    let formValid = valid.formValid;\n\n    switch (inputName) {\n      case 'name':\n        nameValid = input.validity.valid;\n        inputValidationErrors.name = nameValid ? '' : input.validationMessage;\n        break;\n      case 'link':\n        linkValid = input.validity.valid;\n        inputValidationErrors.link = linkValid ? '' : input.validationMessage;\n        break;\n      default:\n        break;\n    }\n\n    formValid = nameValid && linkValid;\n\n    setValid({\n      formErrors: inputValidationErrors,\n      nameValid: nameValid,\n      linkValid: linkValid,\n      formValid: formValid,\n    })\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onChangeText(); //меняем стейт текста на true\n    props.onAddPlace(e.target, {\n      name: inputName.current.value, //передаем хначания инпутов\n      link: inputLink.current.value  //как объект в апи запрос\n    })\n    setValid({ //сбрасывам значения валидации (ума не приложу как ее сделать после апи, а не во врЕмя...)\n      formErrors: { name: '', link: '' },\n      nameValid: false,\n      linkValid: false,\n      formValid: false\n    })\n  }\n\n  const handleButtonText = (\n    `${props.isText ? 'Сохранение...' : 'Создать'}` //если стейт текста true ...\n  );\n\n  function resetInput() { //сбрасываем введенные значания инпутов при клике на крестик\n    props.onClose();\n    setValid({\n      formErrors: { name: '', link: '' },\n      nameValid: false,\n      linkValid: false,\n      formValid: false\n    })\n  }\n\n  function overlayClick(e) {\n    props.overlay(e.target);\n  }\n\n  return (\n    <PopupWithForm\n      isButtonDisable={valid.formValid}\n      overlayClick={overlayClick}\n      onSubmit={handleSubmit}\n      title=\"Новое место\"\n      name=\"add-place\"\n      buttonText={handleButtonText}\n      isOpen={props.isOpen}\n      onClose={resetInput}\n      children={\n        <>\n          <input\n            className={`popup-container__infoform popup-container__infoform_place-name ${!valid.nameValid && formConfig.inputErrorClass}`}\n            id=\"place-input\"\n            defaultValue=\"\"\n            name=\"name\"\n            type=\"text\"\n            placeholder=\"Название\"\n            minLength=\"1\" maxLength=\"30\"\n            ref={inputName} //получаем доступ к элементу\n            onChange={handleInput}\n            required\n          />\n          <span className={`popup-container__input-error ${!valid.nameValid && formConfig.errorClass}`} id=\"place-input-error\">{valid.formErrors.name}</span>\n          <input\n            className={`popup-container__infoform popup-container__infoform_place-link ${!valid.linkValid && formConfig.inputErrorClass}`}\n            id=\"link-input\"\n            defaultValue=\"\"\n            name=\"link\"\n            type=\"url\"\n            placeholder=\"Ссылка на картинку\"\n            ref={inputLink}\n            onChange={handleInput}\n            required\n          />\n          <span className={`popup-container__input-error ${!valid.linkValid && formConfig.errorClass}`}>{valid.formErrors.link}</span>\n        </>\n      }\n    />\n  )\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditVerificationPopup(props) {\n\n  function handleDeleteClick(e) {\n    e.preventDefault();\n    props.onChangeText();\n    props.onCardDelete(props.cardId);\n  }\n\n  const handleButtonText = (\n    `${props.isText ? 'Сохранение...' : 'Да'}`\n  );\n\n  function overlayClick(e) {\n    props.overlay(e.target);\n  }\n\n  return (\n    <PopupWithForm\n      overlayClick={overlayClick}\n      onSubmit={handleDeleteClick}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      title=\"Вы уверены?\"\n      name=\"verification\"\n      buttonText={handleButtonText}\n      isText={props.isText}\n    />\n  )\n}\n\nexport default EditVerificationPopup;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n\n  function overlayClick(e) {\n    props.overlay(e.target);\n  }\n\n  return (\n    <>\n      <section className={`popup popup__show-image ${props.isOpen && 'popup_opened'}`} onClick={overlayClick}>\n        <figure className=\"popup-image\">\n          <img className=\"popup-image__picture\" src={props.card.link} alt=\"Изображение места\"/>\n          <figcaption className=\"popup-image__caption\">{props.card.name}</figcaption>\n          <button className=\"popup-container__button-reset popup-container__button-reset_image\" type=\"reset\" aria-label=\"Close\" onClick={props.onClose}></button>\n        </figure>\n      </section>\n    </>\n  )\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <>\n      <footer className=\"footer\">\n          <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n      </footer>\n    </>\n  )\n}\n\nexport default Footer\n","import React from 'react';\nimport logo from '../images/mesto-logo.svg';\nimport Header from './Header';\nimport Main from './Main';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditVerificationPopup from './EditVerificationPopup';\nimport ImagePopup from './ImagePopup';\nimport Footer from './Footer';\nimport { api } from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false); //стейт профиль\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false); //добавление нового места\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false); //смена аватара\n  const [isEditVerificationPopupOpen, setIsEditVerificationPopupOpen] = React.useState({ state: false, cardId: '', elem: {} }); //подтверждение удаления\n  const [selectedCard, setSelectedCard] = React.useState(false); //открытие картинки\n  const [showImage, setShowImage] = React.useState({}); //данные картинки\n  const [text, setText] = React.useState(false); //стейт для изменения текта при загрузке сервера\n\n  const [currentUser, setCurrentUser] = React.useState({}); //получаем информацию об авторе\n  const [cards, setCards] = React.useState([]);//создает стейт из пустого массива (в нем будет хранится массив карточек)\n\n  React.useEffect(() => {\n    api.getUserInterface('/users/me')\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(`Упс, произошла ошибка: ${err}`);\n      });\n    api.getInitialCards('/cards') //отправляем запрос на сервер и получаем массив карточек\n      .then((array) => {\n        setCards(array); //меняем стейт cards\n      })\n      .catch((err) => {\n        console.log(`Упс, произошла ошибка: ${err}`);\n      });\n  }, []);\n\n  function changeText() { //смена текта при апи запросе\n    setText(true);\n  }\n  //функция меняет хначения при клике на картинку и передает showImage данные об этой картинке (получает из компонента ImagePopup)\n  function handleCardClick(data) {\n    setSelectedCard(true);\n    setShowImage(data);\n  }\n  //попап сменить аватарку\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  };\n  //попап редактировать профиль\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  };\n  //попап загрузить новое место\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  };\n  // подтверждение удаления (принимает объект карточки и форму)\n  function handleVerificationClick(data, e) {\n    setIsEditVerificationPopupOpen({ state: true, cardId: `${data._id}`, elem: e });\n  };\n  //закрывает все попапы на крестик\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard(false);\n    setIsEditVerificationPopupOpen({ state: false, cardId: '', elem: {} });\n  }\n\n  function overlayClick(e) { //оверлей по клику (принимает попап)\n    if (e.classList.contains('popup')) {\n      closeAllPopups();\n    }\n  }\n\n  function escClick(e) { //закрытие попара по esc (не закрывется попап с аватар и картинкой)\n    if (e.key === 'Escape') {\n      closeAllPopups();\n    }\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\n\n    api.changeLikeCardStatus(`/cards/likes/${card._id}`, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);// Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        //проверяет если id предыдущей карточки равен id полученной при PUT-запросе, то создавай новую карточку из запроса иначе оставляй старую\n        setCards(newCards);// Обновляем стейт\n      })\n      .catch((err) => {\n        console.log(`Упс, произошла ошибка: ${err}`);\n      });\n  }\n  // запрос по удалению карточки с сервера (принимает Id карточки)\n  function handleCardDelete(cardId) {\n    api.deleteCard(`/cards/${cardId}`)\n      .then((data) => {\n        isEditVerificationPopupOpen.elem.remove(); //удаляет карточку\n        const newCards = cards.filter((c) => c._id !== data._id);\n        setCards(newCards); //меняет стейт с карточками\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Упс, произошла ошибка: ${err}`);\n      })\n      .finally(() => {\n        setText(false); //меняет текст кнопки сабмита\n      })\n  }\n  const [lang, setLang] = React.useState({});\n  // обновляет информацию о пользователе\n  function handleUpdateUser(data) {\n\n    api.sendUserInfo('/users/me', data)\n      .then((newData) => {\n        setCurrentUser(newData); //обновляет контекст currentUser\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Упс, произошла ошибка: ${err}`);\n      })\n      .finally(() => {\n        setText(false); //меняет текст кнопки сабмита\n      })\n  }\n  // обновляет аватар пользователя (принимает форму и объект с данными (имя и ссылка))\n  function handleUpdateAvatar(e, data) {\n    api.changeAvatar('/users/me/avatar', data)\n      .then((newData) => {\n        setCurrentUser(newData); //обновляет контекст currentUser\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Упс, произошла ошибка: ${err}`);\n      })\n      .finally(() => {\n        e.reset(); //сбрасывает значения инпутов\n        setText(false); //меняет текст кнопки сабмита\n      });\n  }\n  // добавляет новую карточку (принимает форму и объект(имя и ссылка))\n  function handleAddPlace(e, data) {\n    api.sendPlaceCard('/cards', data)\n      .then((newCard) => {\n        setCards([...cards, newCard]); //добавляет в имеющийся массив карточек новую карточку\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Упс, произошла ошибка: ${err}`);\n      })\n      .finally(() => {\n        e.reset(); //сбрасывает значения инпутов\n        setText(false); //меняет текст кнопки сабмита\n      });\n  }\n\n  return (\n    <div className=\"page\" onKeyDown={escClick}>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header logo={logo} />\n        <Main\n          onEditProfile={handleEditProfileClick} //передает ф-цию по клике на редактирование профиля\n          onAddPlace={handleAddPlaceClick} // передает ф-цию по клике на кнопку добавления нового места\n          onEditAvatar={handleEditAvatarClick} //ф-ция по клику на смену аватара\n          onCardClick={handleCardClick} //ф-ция по клике на картинку\n          onTrashClick={handleVerificationClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n        />\n\n          <EditProfilePopup\n            overlay={overlayClick}\n            isText={text}\n            onChangeText={changeText}\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          <AddPlacePopup\n            overlay={overlayClick}\n            isText={text}\n            onChangeText={changeText}\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlace}\n          />\n\n          <EditAvatarPopup\n            overlay={overlayClick}\n            isText={text}\n            onChangeText={changeText}\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n\n        <EditVerificationPopup\n          overlay={overlayClick}\n          isText={text}\n          onChangeText={changeText}\n          cardId={isEditVerificationPopupOpen.cardId}\n          isOpen={isEditVerificationPopupOpen.state}\n          onClose={closeAllPopups}\n          onCardDelete={handleCardDelete}\n        />\n\n        <ImagePopup\n          overlay={overlayClick}\n          card={showImage}\n          isOpen={selectedCard}\n          onClose={closeAllPopups}\n        />\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/mesto-logo.c6f11019.svg\";"],"sourceRoot":""}